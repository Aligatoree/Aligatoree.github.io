(()=>{"use strict";!function(e){let t=new Image;t.onload=t.onerror=function(){!function(e){let t=!0===e?"webp":"no-webp";document.documentElement.classList.add(t)}(2==t.height)},t.src="data:image/webp;base64,UklGRjoAAABXRUJQVlA4IC4AAACyAgCdASoCAAIALmk0mk0iIiIiIgBoSygABc6WWgAA/veff/0PP8bA//LwYAAA"}(),document.addEventListener("DOMContentLoaded",(function(e){const t=navigator.language,s=document.getElementsByClassName("_ru"),i=document.getElementsByClassName("_en"),n=document.getElementById("ru"),a=document.getElementById("en"),l=document.getElementById("header"),o=document.getElementById("header__mini"),c=document.getElementById("info"),d=document.getElementsByClassName("header__title"),g=document.getElementById("info_popup"),r=document.getElementById("skills"),m=document.getElementsByClassName("skills__name");let u,_;function L(e){e?p(e):(p(s),p(i),_="ru"===_?"en":"ru",window.localStorage.setItem("selectedLanguage",_))}function h(){window.innerWidth<=1e3&&c.classList.contains("_show")&&window.scrollTo(0,0),d[1].getBoundingClientRect().top?g.style.height="calc(100vh - "+(d[1].getBoundingClientRect().top+d[1].getBoundingClientRect().height+10)+"px":g.style.height="calc(100vh - "+(d[0].getBoundingClientRect().top+d[0].getBoundingClientRect().height+10)+"px"}function w(){console.log("resize"),scrollY>l.getBoundingClientRect().height-60?o.classList.contains("_disappear")&&(o.classList.remove("_disappear"),setTimeout((()=>{o.classList.remove("_hide"),o.classList.add("_show")}),50)):(o.classList.add("_hide"),o.classList.remove("_show"),setTimeout((()=>{o.classList.add("_disappear")}),200))}function p(e){for(let t=0;t<e.length;t++)e==s?(clearTimeout(),s[t].classList.toggle("_lang_show"),i[t].classList.toggle("_lang_hide"),setTimeout((()=>{i[t].classList.toggle("_disappear")}),200)):(clearTimeout(),i[t].classList.toggle("_lang_show"),s[t].classList.toggle("_lang_hide"),setTimeout((()=>{s[t].classList.toggle("_disappear")}),200))}function f(e){e.classList.toggle("_show"),e.classList.toggle("_hide")}_=window.localStorage.getItem("selectedLanguage")?window.localStorage.getItem("selectedLanguage"):-1!=t.indexOf("ru")?"ru":"en","ru"===_?(n.classList.add("_active"),L(s),window.localStorage.setItem("selectedLanguage",_)):(a.classList.add("_active"),L(i),window.localStorage.setItem("selectedLanguage",_)),l.addEventListener("click",(e=>{"en"==e.target.id||"ru"==e.target.id?e.target.classList.contains("_active")||(a.classList.toggle("_active"),n.classList.toggle("_active"),L(),setTimeout(h,400)):(e.target.classList.contains("header__title_name")||"blur"==e.target.id)&&(f(c),h(),window.innerWidth<=1e3&&c.classList.contains("_show")&&window.scrollTo(0,0),document.body.classList.toggle("_freeze")),setTimeout(h,400)})),window.addEventListener("resize",(()=>{clearTimeout(u),u=setTimeout(h,100)})),window.addEventListener("scroll",(()=>{clearTimeout(u),u=setTimeout(w,50)})),r.addEventListener("click",(e=>function(e){if(e.target.classList.contains("skills__name"))f(e.target);else if(e.target.classList.contains("skill__switch"))for(let e=0;e<m.length;e++)m[e].classList.add("_hide"),m[e].classList.remove("_show")}(e)))}))})();